# ---

#   - name : Init
#     become: yes
#     hosts: all
#     roles:
#       - init

#   - name: Web Server
#     hosts: web_servers
#     become: yes
#     roles:
#       - agama
#       - uwsgi
#       - nginx

#   - name: Database Server
#     hosts: db_servers
#     become: yes
#     roles:
#       - mysql
#       - bind

#   - name: DNS Resolve
#     hosts: all
#     become: yes
#     roles:
#       - dns_resolve

  # - name: Node and Nginx Exporters
  #   hosts: all
  #   become: yes
  #   roles:
  #     - node_exporter
  #     - nginx_exporter

  # - name: Prometheus
  #   become: yes 
  #   hosts: prometheus
  #   roles:
  #     - prometheus

  # - name: Configure Reverse Proxy
  #   become: yes
  #   hosts: all
  #   roles:
  #     - reverse_proxy

  # - name: Bind and Mysql Exporters 
  #   hosts: grafana
  #   become: yes
  #   roles:
  #     - bind_exporter
  #     - mysql_exporter

  # - name: Install Grafana
  #   hosts: grafana
  #   become: yes
  #   roles:
  #     - grafana

  - name: Influxdb
    hosts: influxdb
    become: yes
    roles: 
      - influxdb

  # - name: pinger
  #   hosts: influxdb
  #   become: yes
  #   roles:
  #     - pinger

  # - name: Rsyslog
  #   hosts: all
  #   become: yes
  #   roles:
  #     - rsyslog

  - name: Influxdb Exporter
    hosts: influxdb
    become: yes
    roles:
      - influxdb_exporter